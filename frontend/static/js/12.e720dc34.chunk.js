(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[12],{110:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a.n(n),l=a(19),i=a(9),o=a(10),c=a(17),d=a(12),s=a(11),h=a(0),u=a.n(h),v={113:"Sunny",116:"PartlyCloudy",119:"Cloudy",122:"VeryCloudy",143:"Fog",176:"LightShowers",179:"LightSleetShowers",182:"LightSleet",185:"LightSleet",200:"ThunderyShowers",227:"LightSnow",230:"HeavySnow",248:"Fog",260:"Fog",263:"LightShowers",266:"LightRain",281:"LightSleet",284:"LightSleet",293:"LightRain",296:"LightRain",299:"HeavyShowers",302:"HeavyRain",305:"HeavyShowers",308:"HeavyRain",311:"LightSleet",314:"LightSleet",317:"LightSleet",320:"LightSnow",323:"LightSnowShowers",326:"LightSnowShowers",329:"HeavySnow",332:"HeavySnow",335:"HeavySnowShowers",338:"HeavySnow",350:"LightSleet",353:"LightShowers",356:"HeavyShowers",359:"HeavyRain",362:"LightSleetShowers",365:"LightSleetShowers",368:"LightSnowShowers",371:"HeavySnowShowers",374:"LightSleetShowers",377:"LightSleet",386:"ThunderyShowers",389:"ThunderyHeavyRain",392:"ThunderySnowShowers",395:"HeavySnowShowers"},m={Unknown:"\u2728",Cloudy:"\u2601\ufe0f",Fog:"\ud83c\udf2b",HeavyRain:"\ud83c\udf27",HeavyShowers:"\ud83c\udf27",HeavySnow:"\u2744\ufe0f",HeavySnowShowers:"\u2744\ufe0f",LightRain:"\ud83c\udf26",LightShowers:"\ud83c\udf26",LightSleet:"\ud83c\udf27",LightSleetShowers:"\ud83c\udf27",LightSnow:"\ud83c\udf28",LightSnowShowers:"\ud83c\udf28",PartlyCloudy:"\u26c5\ufe0f",Sunny:"\u2600\ufe0f",ThunderyHeavyRain:"\ud83c\udf29",ThunderyShowers:"\u26c8",ThunderySnowShowers:"\u26c8",VeryCloudy:"\u2601\ufe0f"},_=(a(92),a(38)),w=a(20);a.d(t,"default",(function(){return g}));var g=function(e){Object(d.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),d=0;d<n;d++)o[d]=arguments[d];return(e=t.call.apply(t,[this].concat(o))).state={weatherInfo:null,error:null},e.handleError=w.c.bind(Object(c.a)(e)),e.handleClose=w.b.bind(Object(c.a)(e)),e.debounced=new _.a((function(t){e.getWeather(t.target.value)}),1e3),e.onChange=function(t){t.persist(),e.debounced(t)},e.getWeather=function(){var t=Object(l.a)(r.a.mark((function t(a){var n,l,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.setItem("weather_city",a),n="https://cors-anywhere.herokuapp.com/http://wttr.in/".concat(a.replace(" ","+"),"?format=j1"),l={method:"get",headers:{"Accept-Language":"ru-RU, ru","Access-Control-Allow-Origin":"wttr.in"}},t.next=5,fetch(n,l);case 5:if(!(i=t.sent).ok){t.next=15;break}return t.t0=e,t.next=10,i.json();case 10:t.t1=t.sent,t.t2={weatherInfo:t.t1},t.t0.setState.call(t.t0,t.t2),t.next=16;break;case 15:e.handleError("\u0421\u0435\u0440\u0432\u0435\u0440 \u043f\u043e\u0433\u043e\u0434\u044b \u043d\u0435 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442");case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("weather_city")||localStorage.setItem("weather_city","\u041d\u0438\u0436\u043d\u0438\u0439 \u041d\u043e\u0432\u0433\u043e\u0440\u043e\u0434"),this.getWeather(localStorage.getItem("weather_city"))}},{key:"render",value:function(){var e;return u.a.createElement("div",{className:"page__container"},u.a.createElement(p,{weatherInfo:this.state.weatherInfo}),u.a.createElement("input",{type:"text",className:"weather_city__input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u0433\u043e\u0440\u043e\u0434",onChange:this.onChange,defaultValue:localStorage.getItem("weather_city")}),u.a.createElement(y,{weather:null===(e=this.state.weatherInfo)||void 0===e?void 0:e.weather}),this.state.error&&u.a.createElement(w.a,{text:this.state.error,handleClose:this.handleClose}))}}]),a}(u.a.Component),S=["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"];function y(e){var t=e.weather;return u.a.createElement("div",{className:"extended_forecast__block"},null===t||void 0===t?void 0:t.map((function(e){var t;return u.a.createElement("div",{key:e.date,className:"extended_forecast__item"},u.a.createElement("div",{className:"extended_forecast_date"},S[new Date(e.date).getDay()]),u.a.createElement("div",{className:"extended_forecast_hours_row"},null===(t=e.hourly)||void 0===t?void 0:t.map((function(e){var t;return u.a.createElement("div",{key:e.time,className:"extended_forecast_hrow__item"},u.a.createElement("div",{className:"ex_forecast__hour"},e.time/100,":00"),u.a.createElement("div",{className:"default_img weather_icon"},m[v[e.weatherCode]]," "),u.a.createElement("div",{style:{fontSize:"40px"}},e.tempC,"\xb0C"),u.a.createElement("div",{style:{fontSize:"20px",marginTop:"10px"}},null===(t=e.lang_ru[0])||void 0===t?void 0:t.value))}))))})))}function p(e){var t,a,n,r,l,i,o,c,d,s,h,_,w=e.weatherInfo;console.log(w);return u.a.createElement("div",{className:"weather_top_block background_pic__city background_pic__city_black"},u.a.createElement("div",{className:"weather_date_and_place"},u.a.createElement("div",{className:"weather__date"},(new Date).toLocaleString("ru",{month:"long",day:"numeric",weekday:"long",timezone:"UTC"})),u.a.createElement("div",{className:"weather__place"},null===w||void 0===w||null===(t=w.nearest_area[0])||void 0===t||null===(a=t.areaName[0])||void 0===a?void 0:a.value)),u.a.createElement("div",{className:"weather_content"},u.a.createElement("div",{className:"default_img weather_icon"},m[v[null===w||void 0===w||null===(n=w.current_condition[0])||void 0===n?void 0:n.weatherCode]]),u.a.createElement("div",{className:"weather__temp"},null===w||void 0===w||null===(r=w.current_condition[0])||void 0===r?void 0:r.temp_C,"\xb0C"),u.a.createElement("div",{className:"temp__minmax"},u.a.createElement("span",null,"\u041c\u0438\u043d: ",null===w||void 0===w||null===(l=w.weather[0])||void 0===l?void 0:l.mintempC,"\xb0"),u.a.createElement("span",null,"\u041c\u0430\u043a\u0441: ",null===w||void 0===w||null===(i=w.weather[0])||void 0===i?void 0:i.maxtempC,"\xb0")),u.a.createElement("div",{className:"weather__description"},null===w||void 0===w?void 0:w.current_condition[0].lang_ru[0].value),u.a.createElement("div",{className:"weather__additional_info"},u.a.createElement("div",{className:"weather__additional_info__block"},u.a.createElement("div",{className:"default_img real_temp_feel_icon"}),u.a.createElement("div",null,"\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a"),u.a.createElement("div",null,null===w||void 0===w||null===(o=w.current_condition[0])||void 0===o?void 0:o.FeelsLikeC,"\xb0")),u.a.createElement("div",{className:"weather__additional_info__block"},u.a.createElement("div",{className:"default_img humidity_icon"}),u.a.createElement("div",null,"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c"),u.a.createElement("div",null,null===w||void 0===w||null===(c=w.current_condition[0])||void 0===c?void 0:c.humidity,"%")),u.a.createElement("div",{className:"weather__additional_info__block"},u.a.createElement("div",{className:"default_img pressure_icon"}),u.a.createElement("div",null,"\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),u.a.createElement("div",null,(null===w||void 0===w||null===(d=w.current_condition[0])||void 0===d?void 0:d.pressure)&&((null===w||void 0===w||null===(s=w.current_condition[0])||void 0===s?void 0:s.pressure)/1.33333).toFixed())),u.a.createElement("div",{className:"weather__additional_info__block"},u.a.createElement("div",{className:"default_img wind_icon"}),u.a.createElement("div",null,"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u0435\u0442\u0440\u0430"),u.a.createElement("div",null,(null===w||void 0===w||null===(h=w.current_condition[0])||void 0===h?void 0:h.windspeedKmph)&&(w.current_condition[0].windspeedKmph/3.6).toFixed(1)," \u043c/\u0441")))),u.a.createElement("div",{className:"weather_last_observation_time"},"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u0432: ",null===w||void 0===w||null===(_=w.current_condition[0])||void 0===_?void 0:_.localObsDateTime))}},92:function(e,t,a){}}]);
//# sourceMappingURL=12.e720dc34.chunk.js.map