(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[9],{102:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a.n(n),c=a(17),s=a(20),i=a(11),l=a(12),o=a(14),u=a(13),p=a(0),m=a.n(p),_=(a(56),a(83),a(21)),d=(a(55),a(4)),f=a(18),b=a(5),h=a(26);function v(e){var t=e.label,a=e.to,n=e.activeOnlyWhenExact,r=Object(f.h)({path:a,exact:n});return m.a.createElement(b.b,{style:r&&{backgroundColor:"orange"},className:"default_link friends_classifier__item",to:a},t)}var E=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).fetchData=Object(s.a)(r.a.mark((function e(){var t,a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)(d.b+d.a+"/relations/get_relations",{userId:n.props.match.params.id,mode:n.props.type,limit:10});case 2:t=e.sent,a=Object(c.a)(t,2),s=a[1],n.setState({people:s||[]});case 6:case"end":return e.stop()}}),e)}))),n.onAction=function(){var e=Object(s.a)(r.a.mark((function e(t){var a,s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.b+d.a+"/relations/update_relationship",e.next=3,Object(h.a)(a,{prevRelType:n.props.type,userId:t},"POST","text");case 3:s=e.sent,i=Object(c.a)(s,1),null===i[0]&&n.setState((function(e){return{people:e.people.filter((function(e){return e.user_id!==t}))}}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={people:[]},n}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){e.type!==this.props.type&&this.fetchData()}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this;return m.a.createElement(m.a.Fragment,null,this.state.people.map((function(t){return m.a.createElement(y,Object.assign({key:t.user_id},t,{type:e.props.type,onAction:e.onAction}))})))}}]),a}(m.a.Component);function y(e){var t=function(){e.onAction(e.user_id)};return console.log(d.b+d.a+"/profile_bgs".concat(Object(_.a)(e.user_id),"/profile_avatar.jpg")),m.a.createElement("div",{className:"rel__container"},m.a.createElement("img",{className:"default_img rel_user__avatar",alt:"",src:d.b+d.a+"/profile_bgs".concat(Object(_.a)(e.user_id),"/profile_avatar.jpg")}),m.a.createElement("div",{className:"rel_user__vertical"},m.a.createElement("span",{className:"rel_user__fullname"},"".concat(e.first_name," ").concat(e.last_name)),m.a.createElement(b.b,{className:"rel_user__send_mes",to:{pathname:"/\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f/",user_id:e.user_id,first_name:e.first_name,last_name:e.last_name}},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435")),m.a.createElement("div",{className:"rel__functional"},(3===e.type||1===e.type)&&m.a.createElement("button",{className:"rel__button delete_friend__button",onClick:t},"\u274c"),2===e.type&&m.a.createElement("button",{className:"rel__button add_friend__button",onClick:t},"+")))}t.default=Object(f.i)((function(e){return m.a.createElement("div",{className:"page__container"},m.a.createElement("div",{className:"page__header background_pic__city background_pic__city_green"},m.a.createElement("h1",{style:{color:"white"}},"\u0414\u0440\u0443\u0437\u044c\u044f"),m.a.createElement("p",{style:{color:"white"}},"\u0417\u0434\u0435\u0441\u044c \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u0440\u0443\u0437\u0435\u0439"),m.a.createElement("div",{className:"friends_foreground_pic default_img"})),m.a.createElement("div",{className:"friends_classifier__container"},m.a.createElement(v,{to:"/\u0441\u0432\u044f\u0437\u0438/".concat(e.match.params.id,"/\u0434\u0440\u0443\u0437\u044c\u044f"),label:"\u0414\u0440\u0443\u0437\u044c\u044f"}),m.a.createElement(v,{to:"/\u0441\u0432\u044f\u0437\u0438/".concat(e.match.params.id,"/\u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u0438"),label:"\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u0438"}),m.a.createElement(v,{to:"/\u0441\u0432\u044f\u0437\u0438/".concat(e.match.params.id,"/\u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"),label:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"})),m.a.createElement(f.d,null,m.a.createElement(f.b,{path:"/\u0441\u0432\u044f\u0437\u0438/:id/\u0434\u0440\u0443\u0437\u044c\u044f",render:function(e){return m.a.createElement(E,Object.assign({type:3},e))}}),m.a.createElement(f.b,{path:"/\u0441\u0432\u044f\u0437\u0438/:id/\u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u0438",render:function(e){return m.a.createElement(E,Object.assign({type:2},e))}}),m.a.createElement(f.b,{path:"/\u0441\u0432\u044f\u0437\u0438/:id/\u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438",render:function(e){return m.a.createElement(E,Object.assign({type:1},e))}})))}))},83:function(e,t,a){}}]);
//# sourceMappingURL=9.d32a8df6.chunk.js.map