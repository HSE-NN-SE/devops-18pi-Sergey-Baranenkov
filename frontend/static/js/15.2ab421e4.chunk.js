(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[15],{101:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return v}));var n=t(5),r=t.n(n),l=t(15),s=t(19),c=t(30),d=t(9),o=t(10),u=t(17),i=t(12),f=t(11),m=t(0),_=t.n(m),p=t(77),h=t(22),b=t(3),w=t(20),v=function(e){Object(i.a)(t,e);var a=Object(f.a)(t);function t(){var e;Object(d.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=a.call.apply(a,[this].concat(o))).state={old_password:"",new_password:"",confirm_new_password:"",error:null},e.handleError=w.c.bind(Object(u.a)(e)),e.handleClose=w.b.bind(Object(u.a)(e)),e.onChangeHandler=function(a){var t=a.target;e.setState(Object(c.a)({},t.name,t.value))},e.onFormSubmit=function(){var a=Object(s.a)(r.a.mark((function a(t){var n,s,c,d;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),e.state.old_password.length&&e.state.new_password.length){a.next=5;break}e.handleError("\u041f\u043e\u043b\u044f \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b"),a.next=17;break;case 5:if(e.state.new_password===e.state.confirm_new_password){a.next=9;break}e.handleError("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"),a.next=17;break;case 9:return n=e.state.old_password,s=e.state.new_password,a.next=13,Object(h.a)(b.b+b.a+"/settings/update_password",null,"POST","text",JSON.stringify({old_password:n,new_password:s}));case 13:c=a.sent,d=Object(l.a)(c,1),null===d[0]?e.handleError("\u041f\u0430\u0440\u043e\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d"):e.handleError("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c, \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u044b \u0432\u0432\u0435\u043b\u0438 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0441\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c");case 17:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e}return Object(o.a)(t,[{key:"render",value:function(){return _.a.createElement("div",{className:"default_block"},_.a.createElement("div",{className:"default_block__header"},"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"),_.a.createElement("form",{onSubmit:this.onFormSubmit},_.a.createElement(p.c,null,_.a.createElement(p.f,{type:"password",header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",name:"old_password",onChange:this.onChangeHandler})),_.a.createElement(p.c,null,_.a.createElement(p.f,{type:"password",header:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",name:"new_password",onChange:this.onChangeHandler}),_.a.createElement(p.f,{type:"password",header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",name:"confirm_new_password",onChange:this.onChangeHandler})),_.a.createElement(p.c,null,_.a.createElement("button",{className:"default_button confirm_button"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0441\u043c\u0435\u043d\u0443 \u043f\u0430\u0440\u043e\u043b\u044f"))),this.state.error&&_.a.createElement(w.a,{text:this.state.error,handleClose:this.handleClose}))}}]),t}(_.a.Component)},77:function(e,a,t){"use strict";t.d(a,"c",(function(){return s})),t.d(a,"a",(function(){return c})),t.d(a,"f",(function(){return d})),t.d(a,"d",(function(){return o})),t.d(a,"b",(function(){return u})),t.d(a,"e",(function(){return i}));var n=t(37),r=t(0),l=t.n(r);t(57);function s(e){var a=e.children;return l.a.createElement("div",{className:"default_container default_line"},a)}function c(e){var a=e.children;return l.a.createElement("div",{className:"default_container default_column"},a)}function d(e){var a=e.header,t=Object(n.a)(e,["header"]);return l.a.createElement("div",{className:"default_field"},l.a.createElement("p",{className:"default_field__label"},a),l.a.createElement("input",Object.assign({className:"default_field__input"},t)))}function o(e){var a=e.header,t=e.options,r=void 0===t?[]:t,s=e.value,c=void 0===s?"":s,d=Object(n.a)(e,["header","options","value"]);return l.a.createElement("div",{className:"default_field"},l.a.createElement("p",{className:"default_field__label"},a),l.a.createElement("select",Object.assign({className:"default_field__input",value:c},d),r.map((function(e){return l.a.createElement("option",{key:e},e)}))))}function u(e){var a=e.header,t=Object(n.a)(e,["header"]);return l.a.createElement("div",{className:"default_field"},l.a.createElement("p",{className:"default_field__label"},a),l.a.createElement("textarea",Object.assign({className:"default_field__input"},t)))}var i=l.a.forwardRef((function(e,a){var t=e.header,r=Object(n.a)(e,["header"]);return l.a.createElement("div",{className:"default_field"},l.a.createElement("p",{className:"default_field__label"},t),l.a.createElement("input",Object.assign({className:"default_field__input",type:"file"},r,{ref:a})))}))}}]);
//# sourceMappingURL=15.2ab421e4.chunk.js.map