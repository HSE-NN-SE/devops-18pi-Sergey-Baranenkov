(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[13],{74:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return i})),a.d(t,"f",(function(){return u})),a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return o})),a.d(t,"e",(function(){return d}));var n=a(32),r=a(0),c=a.n(r);function l(e){var t=e.children;return c.a.createElement("div",{className:"default_container default_line"},t)}function i(e){var t=e.children;return c.a.createElement("div",{className:"default_container default_column"},t)}function u(e){var t=e.header,a=Object(n.a)(e,["header"]);return c.a.createElement("div",{className:"default_field"},c.a.createElement("p",{className:"default_field__label"},t),c.a.createElement("input",Object.assign({className:"default_field__input"},a)))}function s(e){var t=e.header,a=e.options,r=void 0===a?[]:a,l=e.value,i=void 0===l?"":l,u=Object(n.a)(e,["header","options","value"]);return c.a.createElement("div",{className:"default_field"},c.a.createElement("p",{className:"default_field__label"},t),c.a.createElement("select",Object.assign({className:"default_field__input",value:i},u),r.map((function(e){return c.a.createElement("option",{key:e},e)}))))}function o(e){var t=e.header,a=Object(n.a)(e,["header"]);return c.a.createElement("div",{className:"default_field"},c.a.createElement("p",{className:"default_field__label"},t),c.a.createElement("textarea",Object.assign({className:"default_field__input"},a)))}var d=c.a.forwardRef((function(e,t){var a=e.header,r=Object(n.a)(e,["header"]);return c.a.createElement("div",{className:"default_field"},c.a.createElement("p",{className:"default_field__label"},a),c.a.createElement("input",Object.assign({className:"default_field__input",type:"file"},r,{ref:t})))}))},96:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E}));var n=a(34),r=a(22),c=a(16),l=a.n(c),i=a(17),u=a(20),s=a(11),o=a(12),d=a(14),f=a(13),m=a(0),b=a.n(m),_=a(74),p=a(8),v=a(26),h=a(4),E=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var c;return Object(s.a)(this,a),(c=t.call(this,e)).fetchData=Object(u.a)(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.a)(h.b+h.a+"/settings/get_edu_emp");case 2:t=e.sent,a=Object(i.a)(t,2),n=a[0],r=a[1],null===n?(console.log(r),c.setState({data:r,isFetching:!1,error:null})):c.setState({data:[],isFetching:!1,error:n});case 7:case"end":return e.stop()}}),e)}))),c.sendFormHandler=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(v.a)(h.b+h.a+"/settings/post_edu_emp",void 0,"POST","text",JSON.stringify(c.state.data));case 3:a=e.sent,n=Object(i.a)(a,1),r=n[0],console.log(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.addField=function(){c.setState((function(e){var t=e.data;return{data:[].concat(Object(r.a)(t),[{title:"",period:"",description:""}])}}))},c.changeField=function(e,t,a){c.setState((function(c){var l=c.data;return{data:[].concat(Object(r.a)(l.slice(0,e)),[Object.assign({},l[e],Object(n.a)({},t,a))],Object(r.a)(l.slice(e+1)))}}))},c.deleteField=function(e){c.setState((function(t){var a=t.data;return{data:[].concat(Object(r.a)(a.slice(0,e)),[void 0],Object(r.a)(a.slice(e+1)))}}))},c.state={isFetching:!0,error:null,data:[]},c}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e,t=this;return this.state.error?b.a.createElement("div",null,"ERROR: ",this.state.error):this.state.isFetching?b.a.createElement(p.a,null):b.a.createElement("div",{className:"default_block"},b.a.createElement("div",{className:"default_block__header"},"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0440\u0430\u0431\u043e\u0442\u0430"),b.a.createElement("form",{onSubmit:this.sendFormHandler},null===(e=this.state.data)||void 0===e?void 0:e.map((function(e,a){return e&&b.a.createElement(O,Object.assign({key:a,formKey:a,onChange:t.changeField,onDelete:t.deleteField},e))})),b.a.createElement(_.c,null,b.a.createElement("button",{type:"button",className:"default_button add_field__button",onClick:this.addField},"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435")),b.a.createElement(_.c,null,b.a.createElement("button",{className:"default_button cancel_button"},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),b.a.createElement("button",{className:"default_button confirm_button",type:"submit"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"))))}}]),a}(b.a.Component);function O(e){var t=function(t){var a=t.target;return e.onChange(e.formKey,a.name,a.value)};return b.a.createElement(_.a,null,b.a.createElement(_.c,null,b.a.createElement(_.f,{header:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",type:"text",value:e.title,name:"title",onChange:t}),b.a.createElement("button",{type:"button",className:"default_button education__delete_button",onClick:function(){e.onDelete(e.formKey)}},"x"),b.a.createElement(_.f,{header:"\u041f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",type:"text",value:e.period,name:"period",onChange:t})),b.a.createElement(_.c,null,b.a.createElement(_.b,{header:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",value:e.description,name:"description",onChange:t})))}}}]);
//# sourceMappingURL=13.c869c289.chunk.js.map